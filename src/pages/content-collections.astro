---
import { getCollection } from 'astro:content';
import Layout from '../layouts/default.astro';
import { Image } from 'astro:assets';

const holidays = await getCollection('holidays');
---

<Layout title="Holidays">
	<h1>Holidays</h1>

	<section class="holidays flex">
		{
			holidays.map(async (holiday) => {
				const { Content } = await holiday.render();

				return (
					<div class="box">
						<Image
							src={holiday.data.image}
							alt={holiday.data.title}
							width="800"
							height="500"
						/>

						<h2>{holiday.data.title}</h2>

						<Content />

						<p>{holiday.data.tags.map((tag) => `#${tag}`).join(' ')}</p>
					</div>
				);
			})
		}
	</section>
</Layout>
